<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>學習 eBPF 系列 1 - 摘要與簡介 - Louis Li&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Louis Li&#039;s Blog"><meta name="msapplication-TileImage" content="/img/mylogo.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Louis Li&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="前言這個系列是 2022 年參加 ithome 鐵人 30w 競賽的產物，參賽主題是 “教練我想玩 eBPF“，因為近年來 eBPF 成為 cloud native 的一個熱門話題，在 COSCUP2022 還有一些 meetup 的活動都在討論這個議題，因此希望能夠找個機會來學習這項技術，借助這個比賽的機會，來學習和整理 eBPF 的知識，比賽結束後將這三十天的產出重新整理後重新發表，成為本 “"><meta property="og:type" content="blog"><meta property="og:title" content="學習 eBPF 系列 1 - 摘要與簡介"><meta property="og:url" content="https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/"><meta property="og:site_name" content="Louis Li&#039;s Blog"><meta property="og:description" content="前言這個系列是 2022 年參加 ithome 鐵人 30w 競賽的產物，參賽主題是 “教練我想玩 eBPF“，因為近年來 eBPF 成為 cloud native 的一個熱門話題，在 COSCUP2022 還有一些 meetup 的活動都在討論這個議題，因此希望能夠找個機會來學習這項技術，借助這個比賽的機會，來學習和整理 eBPF 的知識，比賽結束後將這三十天的產出重新整理後重新發表，成為本 “"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://blog.louisif.me/img/my_og_image.png"><meta property="article:published_time" content="2022-10-31T05:54:04.000Z"><meta property="article:modified_time" content="2022-10-31T10:32:09.492Z"><meta property="article:author" content="Louis Li"><meta property="article:tag" content="eBPF"><meta property="article:tag" content="linux"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://blog.louisif.me/img/my_og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/"},"headline":"學習 eBPF 系列 1 - 摘要與簡介","image":["https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/ethernet_header.png","https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/bcc_tracing_tools.png"],"datePublished":"2022-10-31T05:54:04.000Z","dateModified":"2022-10-31T10:32:09.492Z","author":{"@type":"Person","name":"Louis Li"},"publisher":{"@type":"Organization","name":"Louis Li's Blog","logo":{"@type":"ImageObject","url":"https://blog.louisif.me/img/mylogo.svg"}},"description":"前言這個系列是 2022 年參加 ithome 鐵人 30w 競賽的產物，參賽主題是 “教練我想玩 eBPF“，因為近年來 eBPF 成為 cloud native 的一個熱門話題，在 COSCUP2022 還有一些 meetup 的活動都在討論這個議題，因此希望能夠找個機會來學習這項技術，借助這個比賽的機會，來學習和整理 eBPF 的知識，比賽結束後將這三十天的產出重新整理後重新發表，成為本 “"}</script><link rel="canonical" href="https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/"><link rel="alternate" href="/atom.xml" title="Louis Li&#039;s Blog" type="application/atom+xml"><link rel="icon" href="/img/mylogo.svg"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.6.0/styles/atom-one-dark-reasonable.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-79VDS4QY8D" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-79VDS4QY8D');</script><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/mylogo.svg" alt="Louis Li&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/archives">Archives</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="文章目錄" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜尋" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><p class="level-item is-flex justify-content-center"><i class="fas fa-calendar mr-1"></i><span><time dateTime="2022-10-31T05:54:04.000Z" title="10/31/2022, 1:54:04 PM">2022-10-31</time>發表</span></p><p class="level-item is-flex justify-content-center"><i class="fas fa-folder mr-1"></i><span><a class="link-muted" href="/categories/eBPF/">eBPF</a></span></p><p class="level-item is-flex justify-content-center"><i class="fas fa-clock mr-1"></i><span>14 分鐘讀完 (大約2028個字)</span></p><p class="level-item is-flex justify-content-center"><i class="fas fa-person mr-1"></i><span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次訪問</span></p></div></div><h1 class="title is-3 is-size-4-mobile">學習 eBPF 系列 1 - 摘要與簡介</h1><div class="content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>這個系列是 2022 年參加 ithome 鐵人 30w 競賽的產物，參賽主題是 “<a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/users/20152703/ironman/5911">教練我想玩 eBPF</a>“，因為近年來 eBPF 成為 cloud native 的一個熱門話題，在 COSCUP2022 還有一些 meetup 的活動都在討論這個議題，因此希望能夠找個機會來學習這項技術，借助這個比賽的機會，來學習和整理 eBPF 的知識，比賽結束後將這三十天的產出重新整理後重新發表，成為本 “學習 eBPF 系列”。</p>
<span id="more"></span>

<p>本系列文章主要是兩個部分，首先是針對 eBPF 的一些基本語法、架構和用法的基本介紹。接著透過 trace bcc 這個 eBPF 的開發框架的許多範例原始碼，來了解 eBPF 的用途和實例，最後簡單介紹一下所有的 eBPF 裡面很重要的 helper functions。</p>
<h2 id="eBPF-的前身"><a href="#eBPF-的前身" class="headerlink" title="eBPF 的前身"></a>eBPF 的前身</h2><p>要介紹 eBPF 勢必得先聊聊 eBPF 的前身 Berkeley Packet Filter (BPF)，BPF 最早是在 1993 年 USENIX 上發表的一個在類 Unix 系統上封包擷取的架構。</p>
<p>由於封包會持續不斷的產生，因此在擷取封包時，單一個封包的處理時間可能只有幾豪秒的時間，又封包擷取工具的使用者通常只關注某部分特定的封包，而不會是所有的封包，因此將每個封包都丟到 User space 來處理是極為低效的行為，因此 BPF 提出了一種在 kernal 內完成的封包過濾的方法。</p>
<p>簡單來說，BPF 在 kernal 內加入了一個簡易的虛擬機環境，可以執行 BPF 定義的指令集，當封包從網卡內進入的時候，就會進到 BPF 的虛擬機，根據虛擬機的執行結果來決定是否要解取該封包，要的話再送到 user space，因此可以直接在 kernal 過濾掉所有不必要的封包。</p>
<p>大家最常使用的封包過濾工具應該是 <code>tcpdump</code> ，tcpdump 底下就是基於 BPF 來完成封包過濾的，tcpdmp 使用了 libpcap 這個 library 來與 kernal 的 BPF 溝通，當我們下達 <code>tcpdump tcp port 23 host 127.0.0.1</code> 這樣的過濾規則時，過濾規則會被 libpcap 編譯成 BPC 虛擬機可以執行的 bpf program，然後載入到 kernal 的 BPF 虛擬機，BPF 擷取出來的封包也會被 libpcap 給接收，然後回傳給 tcpdump 顯示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">tcpdump -d ip<br></code></pre></td></tr></table></figure>

<p>透過 <code>-d</code> 這個參數，我們可以看到 <code>ip</code> 這個過濾規則會被編譯成怎樣的 BPF program</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">(000) ldh      [12]<br>(001) jeq      #0x800           jt 2    jf 3<br>(002) ret      #262144<br>(003) ret      #0<br></code></pre></td></tr></table></figure>

<ul>
<li>Line 0 <code>ldh</code> 指令複製從位移 12 字節開始的 half word (16 bits) 到暫存器，對應到 ethernet header 的 ether type 欄位。</li>
</ul>
<p><img src="/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/ethernet_header.png" alt="Ethernet header"></p>
<ul>
<li>Line 1 <code>jeq</code> 檢查暫存器數值是否為 <code>0x0800</code> (對應到 IP 的 ether type)<ul>
<li>是的話，走到 Line 2 <code>return 262144</code></li>
<li>不是的話，跳到 Line 3 <code>return 0</code></li>
</ul>
</li>
<li><code>ret</code> 指令結束 BPF 並根據回傳值決定是不是要擷取該封包，回傳值為 0 的話表示不要，非 0 的話則帶表要擷取的封包長度，tcpdump 預設指定的擷取長度是 262144 bytes。</li>
</ul>
<p>BPF 提供了一個高效、可動態修改的 kernal 執行環境的概念，這個功能不僅只能用在封包過濾還能夠用在更多地方，因此在 Linux kernal 3.18 加入了 eBPF 的功能，提供了一個 “通用的” in-kernal 虛擬機。承接了 BPF 的概念，改進了虛擬機的功能與架構，支援了更多的虛擬機啟動位置，使 eBPF 可以用在更多功能上。</p>
<p>也因為 eBPF 做為一個現行更通用更強大的技術，因此現在提及 BPF 常常指的是 eBPF，而傳統的 BPF 則用 classic BPF (cBPF) 來代指。</p>
<h2 id="eBPF-的應用"><a href="#eBPF-的應用" class="headerlink" title="eBPF 的應用"></a>eBPF 的應用</h2><p>在介紹 BPF 的時候，有提到 BPF 本身就是一個在 kernal 內的虛擬機。eBPF 在 kernal 的許多功能內埋入了虛擬機的啟動點 (hook point)。例如當 kernal 執行 clone 這個 system call 的時候，就會去檢查有沒有 eBPF 程式的啟動條件是等待 clone 這個 system call，如果有的話就會調用 BPF 虛擬機執行 eBPF 程式，同時把 clone 相關的資訊帶入到虛擬機。同時虛擬機的執行結果可以控制 kernal 的後續行為，因此可以透過 eBPF 做到改變 kernal 程式進程、數據，擷取 kernal 執行狀態等功能。</p>
<p>使用 eBPF 我們可以在不用修改 kernal 或開發 kernal module 的情況下，增加 kernal 的功能，大大了降低了 kernal 功能開發的難度還有降低對 kernal 環境版本的依賴。</p>
<p>這邊舉立一些 eBPF 的用途</p>
<ul>
<li><p>in kernal 的網路處理：以往在 linux 上要實作網路封包的處理，通常都會經過整個 kernal 的 network stack，通過 iptables (netfilter), ip route 等組件的處理。透過 eBPF，我們可以在封包進入 kernal 的早期去直接丟棄非法封包，這樣就不用讓每個封包都要跑完整個 network stack，達到提高效能的作用</p>
<ul>
<li>最知名的應該是 Cilium 這個 CNI 專案，基於 eBFP 提供了整套完整網路、安全、監控的 Kubernetees CNI 方案。</li>
</ul>
</li>
<li><p>kernal tracing: 前面提到 eBPF 在 kernal 內的許多地方都埋入了啟動點，因此透過 eBPF 可以再不用對 kernal 做任何修改的情況下，很有彈性的監聽分析 kernal 的執行狀況</p>
<ul>
<li>下圖是 bcc 專案使用 eBPF 開發的一系列 Linux 監看工具，基本涵蓋了 kernal 的各個面向。<br>  <img src="/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/bcc_tracing_tools.png" alt="bcc tracing tools"></li>
</ul>
</li>
<li><p>另外一個專安 <code>bpftrace</code> 也提供了一個非常簡單的語法，來產生對應的 eBFP tracing code。</p>
</li>
<li><p>user level tracing: 透過 eBFP，我們可以做 user level 的 dynamic tracing，來監看 user space 應用程式的行為。</p>
<ul>
<li>一個很有趣的案例是我們可以使用 eBPF 來做 ssl 加密連線的監看。SSL&#x2F;TSL 的連線加密通常是在 user space 應用程式內完成加密的，因此即便我們監看應用程式送入 kernal socket 的內容，內容也已經是被加密的了。但是要拆解應用程式來查看又相對比較複雜困難，使用 eBPF 就可以用一個相對簡單的方法來監看加密訊息。</li>
<li>在 Linux 上，應用程式的加密經常會使用 libssl 這個 library 來完成，並使用 libssl 提供的 <code>SSL_read</code> 和 <code>SSL_write</code> 取代 socket 的 <code>read</code> 和 <code>write</code>，透過 eBPF 的功能，我們可以比較簡單的直接監聽應用程式對這兩個函數的呼叫，並直接提取出未加密的連線內容。</li>
</ul>
</li>
<li><p>Security: 前面有講到透過 eBFP，我們可以監控 system call 的呼叫、kernal 的執行、user space 程式的函數呼叫等等，因此我們也就可以透過 eBFP 來監控這些事件，並以此檢測程式的安全，拒絕非法的 system call 呼叫，或異常行為等等。<br>  + 詳細可以參考 <code>Tetragon</code> 和 <code>tracee</code> 之類的專案。</p>
</li>
</ul>
<p>上面大概介紹了一些 eBFP 的應用場景，BPF 經過擴展之後，不再侷限於封包過濾這個場景，而在網路處理、内核追蹤、安全監控，等各個方面有了更多可以開發的潛能。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://www.usenix.org/legacy/publications/library/proceedings/sd93/mccanne.pdf">The BSD Packet filter paper</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.tcpdump.org/manpages/pcap_compile.3pcap.html">tcpdump man page</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dillanzhou/article/details/96913981">tcpdump 与 libpcap 原理分析</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.px.dev/ebpf-openssl-tracing/">Debugging with eBPF Part 3: Tracing SSL&#x2F;TLS connections</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ebpf.io/applications/">eBPF applications</a></p>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>學習 eBPF 系列 1 - 摘要與簡介</p><p><a href="https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/">https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Louis Li</p></div></div><div class="level-item is-narrow"><div><h6>發表於</h6><p>2022-10-31</p></div></div><div class="level-item is-narrow"><div><h6>更新於</h6><p>2022-10-31</p></div></div><div class="level-item is-narrow"><div><h6>許可協議</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/eBPF/">eBPF</a><a class="link-muted mr-2" rel="tag" href="/tags/linux/">linux</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/eBPF/Learn-eBPF-Serial-2-Basic-concept/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">學習 eBPF 系列 2 - 基本概念</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Terraform/Deploy-proxmox-vm-with-terraform/"><span class="level-item">使用 Terraform 部屬 Proxmox 虛擬機</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">評論</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://blog.louisif.me/eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/';
            this.page.identifier = 'eBPF/Learn-eBPF-Serial-1-Abstract-and-Background/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'louis-lis-blog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/mylogo.svg" alt="Louis Li"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Louis Li</p><p class="is-size-6 is-block">NYCU CS</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Hsinchu, Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分類</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">標籤</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/gamerslouis" target="_blank" rel="noopener">追蹤</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/gamerslouis"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Mail" href="mailto:me@louisif.me"><i class="fas fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分類</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Kubernetes/"><span class="level-start"><span class="level-item">Kubernetes</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/ONOS/"><span class="level-start"><span class="level-item">ONOS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Openstack/"><span class="level-start"><span class="level-item">Openstack</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Terraform/"><span class="level-start"><span class="level-item">Terraform</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/eBPF/"><span class="level-start"><span class="level-item">eBPF</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/notes/"><span class="level-start"><span class="level-item">notes</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-01T13:00:57.000Z">2022-11-01</time></p><p class="title"><a href="/notes/Install-openvpn-client-on-proxmox/">Proxmox 安裝 openvpn client 紀錄</a></p><p class="categories"><a href="/categories/notes/">notes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-01T13:00:00.000Z">2022-11-01</time></p><p class="title"><a href="/Openstack/Openstack-Deployment-Serial-2-Deployment-with-Openstack-Ansible/">Openstack Deployment Serial 2 - 使用 Openstack Ansible 部署 Openstack</a></p><p class="categories"><a href="/categories/Openstack/">Openstack</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-31T10:14:40.000Z">2022-10-31</time></p><p class="title"><a href="/eBPF/Learn-eBPF-Serial-9-eBPF-helper-functions/">學習 eBPF 系列 9 - eBPF helper functions</a></p><p class="categories"><a href="/categories/eBPF/">eBPF</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-31T09:39:47.000Z">2022-10-31</time></p><p class="title"><a href="/eBPF/Learn-eBPF-Serial-8-cgroups-socket-map/">學習 eBPF 系列 8 - cgroups &amp; socket map</a></p><p class="categories"><a href="/categories/eBPF/">eBPF</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-31T09:16:36.000Z">2022-10-31</time></p><p class="title"><a href="/eBPF/Learn-eBPF-Serial-7-tc-BCC-neighbor-sharing/">學習 eBPF 系列 7 - tc &amp; BCC neighbor_sharing</a></p><p class="categories"><a href="/categories/eBPF/">eBPF</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">彙整</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">標籤</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Ansible/"><span class="tag">Ansible</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IaC/"><span class="tag">IaC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Openstack/"><span class="tag">Openstack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/P4/"><span class="tag">P4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Proxmox/"><span class="tag">Proxmox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Terraform/"><span class="tag">Terraform</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bcc/"><span class="tag">bcc</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cgroups/"><span class="tag">cgroups</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/eBPF/"><span class="tag">eBPF</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openvpn/"><span class="tag">openvpn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/proxmox/"><span class="tag">proxmox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/socketmap/"><span class="tag">socketmap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tc/"><span class="tag">tc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xdp/"><span class="tag">xdp</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">文章目錄</h3><ul class="menu-list"><li><a class="level is-mobile" href="#前言"><span class="level-left"><span class="level-item">1</span><span class="level-item">前言</span></span></a></li><li><a class="level is-mobile" href="#eBPF-的前身"><span class="level-left"><span class="level-item">2</span><span class="level-item">eBPF 的前身</span></span></a></li><li><a class="level is-mobile" href="#eBPF-的應用"><span class="level-left"><span class="level-item">3</span><span class="level-item">eBPF 的應用</span></span></a></li><li><a class="level is-mobile" href="#參考資料"><span class="level-left"><span class="level-item">4</span><span class="level-item">參考資料</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/mylogo.svg" alt="Louis Li&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Louis Li</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>個訪客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-TW");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到頁首" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此網站使用Cookie來改善您的體驗。",
          dismiss: "知道了！",
          allow: "允許使用Cookie",
          deny: "拒絕",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="請輸入關鍵字..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"請輸入關鍵字...","untitled":"(無標題)","posts":"文章","pages":"頁面","categories":"分類","tags":"標籤"});
        });</script></body></html>